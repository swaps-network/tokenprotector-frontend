<header [ngClass]="{scrolled: pageScrolled}">

  <!-- <div class="beta_version-banner">
    <img src="./assets/images/icons/beta.svg">
    This project is in beta. Use at your own risk.
  </div> -->

  <div class="app-content-block">
    <a routerLink="/">
      <span class="logo">
        <img src="./assets/images/new/logo.svg">
      </span>
    </a>

    <div class="app-content-block_right">
      <button class="navbar-toggle" type="button" (click)="openedMenu = !openedMenu" (mousedown)="$event.stopPropagation(); $event.preventDefault();" >
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
  
      <nav class="header-menu" [ngClass]="{opened: openedMenu}" (mousedown)="$event.stopPropagation(); $event.preventDefault();">
        <ul class="header-menu_list">
          <li class="header-menu_list_item">
            <a href="https://mywish.io/" target="_blank" class="header-link">About</a>
          </li>
          <li class="header-menu_list_item" *ngIf="currentUser.is_ghost">
            <span (click)="openAuth()" class="header-link">Login</span>
          </li>
          <li class="header-menu_list_item with-sublist" *ngIf="!currentUser.is_ghost"
              [ngClass]="{'opened-list': userMenuOpened}">
            <span class="header-link"
                  [ngClass]="{'is-social': currentUser.is_social}"
                  (click)="userMenuOpened = !userMenuOpened"
                  style="color: black;">{{currentUser.username}}</span>
            <ul class="header-menu_sublist">
              <li class="header-menu_sublist_item">
                <a routerLink="/contracts" class="sublist-link">My contracts</a>
              </li>
              <li class="header-menu_sublist_item">
                <span class="sublist-link" (click)="openLogoutConfirmation()">Logout</span>
              </li>
            </ul>
          </li>
          <li class="header-menu_list_item" [ngClass]="{'hide_menu-button': (routeLinkPage === '/create') }">
            <span class="button button-tp button-tp-blue is-large" routerLink="/create"> 
              <span class="caption">Try it</span>
            </span>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<ng-template #logoutConfirmation>
  <div class="dialog-block">
    <div class="dialog-block__content">
      <div class="alert-window-title">
        {{'CONFIRMATIONS.LOG_OUT.TEXT'|translate}}
      </div><br />
      <div class="alert-window-buttons text-center">
        <div class="grid-row">
          <div class="grid-cell grid-cell-1-2 grid-cell-vs-1">
            <button class="button button-tp button-tp-blue width-100 is-medium" type="button" (click)="logoutSuccess()"
              [disabled]="logoutProgress">
              <span class="lds-ellipsis" *ngIf="logoutProgress">
                <span class="lds-ellipsis-container">
                  <span></span><span></span><span></span><span></span>
                </span>
              </span>
              <span class="caption just-title">&nbsp;&nbsp;&nbsp;{{'YES'|translate}}&nbsp;&nbsp;&nbsp;</span>
            </button><br />
          </div>
          <div class="grid-cell grid-cell-1-2 grid-cell-vs-1">
            <button class="button button-tp button-tp-blue width-100 is-medium" mat-dialog-close type="button">
              <span class="caption">&nbsp;&nbsp;&nbsp;{{'NO'|translate}}&nbsp;&nbsp;&nbsp;</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
